---

import Logo from '../assets/theme-images/logo.svg'

const currentLang = Astro.params.lang || 'en';
const { settings } = Astro.props
const languages = [
  { code: 'en', label: 'English' },
  { code: 'it', label: 'Italiano' },
]

---

<header class="wrapper bg-loop font-semibold">

  <div class="bs-container py-6 flex justify-between items-center">

    <!-- Logo -->
    <a class="flex items-center gap-4 xl:min-w-32 group" href={`/scoutforall/${currentLang}/`} aria-label={ settings.title + ' - Home' }>
      <Logo class="group-hover:-rotate-180 group-hover:scale-80 transition-transform ease-bs-spring duration-1000" height="48" width="48" />
      <span class="text-2xl font-bold text-white leading-none">
        scout4all
      </span>
    </a>

    <!-- Nav -->
    <nav class="hidden col-span-6 md:flex mx-auto self-stretch lg:gap-2">
      { settings.nav.map( item =>
        <a class="bs-btn !bg-transparent before:translate-y-full hover:before:translate-y-0" href={`/scoutforall/${currentLang}/${item.link}`}>
          { item.title }
        </a>
      )}
    </nav>

    <!-- GitHub link + Language selector -->
    <div class="inline-flex items-center gap-4">
      <a
        href={settings.github_url}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center justify-center min-w-32"
      >
        <img src="../content-images/github-mark-white.svg" class="h-6 w-6" alt="GitHub" />
      </a>

      <!-- Language selector -->
      <select
        class="bg-black text-white px-2 py-1 rounded"
        onChange="window.location.href=this.value"
        value={`/scoutforall/${currentLang}/`}
      >
        {languages.map(lang =>
          <option value={`/scoutforall/${lang.code}/`} selected={lang.code === currentLang}>{lang.label}</option>
        )}
      </select>
    </div>
  </div>

</header>
